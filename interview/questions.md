**20201123 赢时胜一面**

1. **浏览器事件循环机制**

    1. 开始整段 script 脚本作为第一个宏任务执行
    2. 执行过程中同步代码直接执行，宏任务进入宏任务队列，微任务进入微任务队列
    3. 当前宏任务执行完出队，检查微任务队列，如果有则依次执行，直到微任务队列为空
    4. 执行浏览器 UI 线程的渲染工作
    5. 检查是否有Web worker任务，有则执行
    6. 执行队首新的宏任务，回到2，依此循环，直到宏任务和微任务队列都为空

2. **ES6+ 新特性**

    ...

3. **箭头函数和普通函数的区别**

    1. 箭头函数是匿名函数，不能作为构造函数使用
    2. 箭头函数不绑定 arguments，使用 rest 参数 ... 解决
    3. 箭头函数的 this 是在词法阶段就确定的，永远指向其所在上下文，而不会动态指定
    4. 箭头函数使用 call/apply/bind 时不会修改其 this 指向
    5. 箭头函数没有原型属性
    6. 箭头函数不能当做 generator 函数，不能使用 yield 关键字

4. **async/await 的优缺点**
   
    + 优点

        语法简洁；错误处理；处理 then 的调用链，同步编程风格

    + 缺点
    
        滥用 await 可能会导致性能问题，因为 await 会阻塞代码，也许之后的异步代码并不依赖于前者，但仍然需要等待前者完成，导致代码失去了并发性

5. **为什么要使用 react 和 vue 这种框架，而不是原生？**

    + 组件化
      
        react 的组件化最为彻底，甚至可以到函数级别的原子组件，高度的组件化可以使我们的工程易于维护，易于组合扩展
        
    + 天然分层
      
        jQuery 时代的代码大部分情况下是面条代码，耦合严重，现代框架不管是 MVC、MVP 还是 MVVM 模式都可以帮我们进行分层，代码解耦更易于读写
        
    + 生态
      
        现代主流框架都自带生态，不管是数据流管理架构还是 UI 库都有成熟的解决方案
        
    + 开发效率
      
        现在前端框架都默认自动更新 DOM，而非我们手动操作，解放了开发者的手动 DOM 成本，提高开发效率，从根本上解决了 UI 与状态同步问题
        
    + 性能

        DOM 操作会引起回流和重绘，对于 jQuery 来说，大量的操作 DOM 虽然方便，但是很浪费页面性能。框架对 DOM 进行了处理和优化（例如Vue的虚拟DOM），通过数据驱动，就能渲染出 DOM，大大提升了性能。
    
6. **为什么 react 和 vue 里面的 key 要是唯一的？**

    key的作用就是给每一个VNode一个唯一的key，通过key可以更准确更快的拿到VNode。

    vue 和 react 都是采用 diff 算法来对比新旧虚拟节点，从而更新节点。

    当新节点跟旧节点头尾交叉对比没有结果时，会根据新节点的 key 去对比旧节点数组中的 key，从而找到相应的旧节点。
    
    如果没找到就认为是一个新增节点。而如果没有 key，那么就会采用遍历查找的方式去找到对应的旧节点。

    在不带 key 的情况下，节点可以进行复用，省去了操作 DOM 的开销，只适用于简单的无状态组件的渲染。虽然带上唯一的 key 会增加开销，但是能保证组件的状态正确，而且用户基本感受不到差距。

7. **redux 流程**
    ![redux流程](https://images2018.cnblogs.com/blog/1253637/201805/1253637-20180523140922059-969837602.png)

8. **react hooks 模拟 componentDidMount 和 componentWillUnmount**

    mount：加数组作为第二个参数
    unmount：return 一个函数，在函数里面做处理

9. **React 除了 cotext 和 redux 好友什么跨组件通信的方式**

    EventEmit： 事件触发器

10. **下载页是如何区分下载 Android 和 IOS 的?**

    根据 user-agent 判断用户的机型，然后根据不同的机型去选在不同的下载流程：
    + IOS 直接调起 App Store
    + Android 分场景：qq 或者 qq 浏览器 可以直接静默下载安装包/调豌豆荚/腾讯应用市场

11. **红包活动需要注意的安全方面的点**
